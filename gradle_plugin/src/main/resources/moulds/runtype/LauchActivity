
package #{javaPackage};

import android.app.Activity;
import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.widget.AdapterView;
import android.widget.ArrayAdapter;
import android.widget.FrameLayout;
import android.widget.ListView;

import java.lang.reflect.Field;
import java.util.ArrayList;
import java.util.List;

public class DefaultActivity extends Activity {
public static Activity activity;
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        activity = this;
        initView();
        com.dachen.router.mdclogin.proxy.MdcLoginPaths.LoginActivity.create().start(activity);//#!{afterLogin}
    }

      @Override
    protected void onDestroy() {
        activity = null;
        super.onDestroy();
    }

    void initView(){

     FrameLayout contentView = new FrameLayout(this);
        ListView listView = new ListView(this);
        contentView.addView(listView,new FrameLayout.LayoutParams(FrameLayout.LayoutParams.MATCH_PARENT,FrameLayout.LayoutParams.MATCH_PARENT));
        setContentView(contentView);

        final List<String> names = new ArrayList<>();
        final List<Class> values = new ArrayList<>();
        try {
            for (Field f : Class.forName("auto.#{packageName}.#{projectName}Launch").getDeclaredFields()){
                  try {
                    values.add(Class.forName(String.valueOf(f.get(null))));
                    names.add(f.getName());
                }catch (Exception e){}
            }
        } catch (Exception e) {
        }
        listView.setAdapter(new ArrayAdapter<>(this,android.R.layout.simple_list_item_1,names));
        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {
            @Override
            public void onItemClick(AdapterView<?> parent, View view, int position, long id) {
                startActivity(new Intent(getApplicationContext(),values.get(position)));
            }
        });
    }
}
